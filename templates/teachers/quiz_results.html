{% extends 'svapp/a&t.html' %}
{% load crispy_forms_tags humanize %}
{% load staticfiles %}
{% block body_block %}
<head>
  <!-- Font Awesome -->
  <link rel="stylesheet" href="{% static "plugins/fontawesome-free/css/all.min.css" %}">
  <!-- Ionicons -->
  <link rel="stylesheet" href="https://code.ionicframework.com/ionicons/2.0.1/css/ionicons.min.css">
  <!-- Theme style -->
  <link rel="stylesheet" href="{% static "dist/css/adminlte.min.css" %}">
  <!-- Google Font: Source Sans Pro -->
  <link href="https://fonts.googleapis.com/css?family=Source+Sans+Pro:300,400,400i,700" rel="stylesheet">
  {% include 'cdn.html' %}
</head>
  <div class="container" style="margin-bottom:100px;">
  <div style="margin-top:100px;">
    <h2 class="mb-3">{{ quiz.name }} Results:</h2>
  </div>
    <div class="card-body">
      <strong>Taken Assessments</strong>
      <!-- <span class="badge badge-pill badge-primary float-right">Average Score: {{ quiz_score.average_score|default_if_none:0.0 }}</span> -->
    </div>
    <div class="row">

      <!-- /.col -->
      <div class="col-12 col-sm-6 col-md-3">
        <div class="info-box mb-3">
          <span class="info-box-icon bg-danger elevation-1"><i class="far fa-address-card"></i></i></span>

          <div class="info-box-content">
            <span class="info-box-text">Teacher Name</span>
            <span class="info-box-number" style="text-transform: capitalize;">{{user.username}}</span>
          </div>
          <!-- /.info-box-content -->
        </div>
        <!-- /.info-box -->
      </div>
      <!-- /.col -->

      <!-- /.col -->
      <div class="col-12 col-sm-6 col-md-3">
        <div class="info-box mb-3">
          <span class="info-box-icon bg-primary elevation-1"><i class="far fa-edit"></i></span>

          <div class="info-box-content">
            <span class="info-box-text">Subject</span>
            <span class="info-box-number" style="text-transform: capitalize;">{{ quiz.subject}}</span>
          </div>
          <!-- /.info-box-content -->
        </div>
        <!-- /.info-box -->
      </div>
      <!-- /.col -->

      <!-- /.col -->
      <div class="col-12 col-sm-6 col-md-3">
        <div class="info-box mb-3">
          <span class="info-box-icon bg-warning elevation-1"><i class="fas fa-clipboard-list"></i></span>

          <div class="info-box-content">
            <span class="info-box-text">Avrage Score</span>
            <span class="info-box-number">{{ quiz_score.average_score|default_if_none:0.0 }}</span>
          </div>
          <!-- /.info-box-content -->
        </div>
        <!-- /.info-box -->
      </div>
      <!-- /.col -->

      <!-- /.col -->
      <div class="col-12 col-sm-6 col-md-3" >
        <div class="info-box mb-3">
          <span class="info-box-icon bg-success elevation-1"><i class="fas fa-user-graduate"></i></span>

          <div class="info-box-content">
            <span class="info-box-text">Total Respondents</span>
            <span class="info-box-number">{{ total_taken_quizzes }}</span>
          </div>
          <!-- /.info-box-content -->
        </div>
        <!-- /.info-box -->
      </div>
      <!-- /.col -->
    </div>
  <div class="card">
    <table class="table mb-0">
      <thead>
        <tr align="center">
          <th>#</th>
          <th>Student</th>
          <th>Rollnumber</th>
          <th>Branch</th>
          <th>Date</th>
          <th>Progress</th>
          <th>Percentage</th>
        </tr>
      </thead>
      <tbody>
        {% for taken_quiz in taken_quizzes %}
          <tr align="center">
            <td>{{forloop.counter}}</td>
            <td>{{ taken_quiz.student.user.username }}</td>
            <td>{{ taken_quiz.student.user.rollnumber}}</td>
            <td>{{ taken_quiz.student.user.branch}}</td>
            <td>{{ taken_quiz.date|naturaltime }}</td>
            <td><div class="progress-group">
                <div class="progress progress-sm">
                <div class="progress-bar bg-secondary" style="width:{{taken_quiz.percentage}}%"></div>
                </div>
                </div></td>
            <td>{{ taken_quiz.percentage }} %</td>
          </tr>
        {% endfor %}
      </tbody>
    </table>
  </div>
</div>
<script src="{% static "plugins/jquery/jquery.min.js" %}"></script>
<!-- Bootstrap 4 -->
<script src="{% static "plugins/bootstrap/js/bootstrap.bundle.min.js" %}"></script>
<!-- ChartJS -->
<script src="{% static "plugins/chart.js/Chart.min.js" %}"></script>
<!-- AdminLTE App -->
<script src="{% static "dist/js/adminlte.min.js" %}"></script>
<!-- AdminLTE for demo purposes -->
<script src="{% static "dist/js/demo.js" %}"></script>
<script src="{% static "dist/js/pages/dashboard3.js" %}"></script>
{% endblock %}
